<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>أحدث فيديوهات قناة المبرمج الصغير</title>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@600&display=swap" rel="stylesheet" />
  <style>
    body {
      font-family: 'Cairo', sans-serif;
      background: #f0f0f0;
      padding: 20px;
      max-width: 800px;
      margin: auto;
      text-align: right;
      direction: rtl;
    }
    h1 {
      color: #0984e3;
      text-align: center;
    }
    .video {
      background: white;
      margin-bottom: 20px;
      padding: 15px;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    .video iframe {
      width: 100%;
      height: 315px;
      border-radius: 10px;
    }
    .video-title {
      margin-top: 10px;
      font-weight: 700;
      font-size: 18px;
      color: #2d3436;
    }
  </style>
</head>
<body>

  <h1>أحدث فيديوهات قناة المبرمج الصغير</h1>
  <div id="videos"></div>

  <script>
    // رابط الـ RSS مع الـ Channel ID الخاص بك
    const rssUrl = 'https://www.youtube.com/feeds/videos.xml?channel_id=UCPSwGTv_HxYq9ulNlMiwCrA';

    async function fetchVideos() {
      try {
        const response = await fetch('https://api.rss2json.com/v1/api.json?rss_url=' + encodeURIComponent(rssUrl));
        const data = await response.json();

        if(data.status !== 'ok') {
          document.getElementById('videos').textContent = 'خطأ في جلب الفيديوهات.';
          return;
        }

        const videosDiv = document.getElementById('videos');
        videosDiv.innerHTML = '';

        data.items.forEach(item => {
          // استخراج معرف الفيديو من رابط الفيديو
          const videoId = item.link.split('v=')[1];
          const videoElement = document.createElement('div');
          videoElement.className = 'video';
          videoElement.innerHTML = `
            <iframe src="https://www.youtube.com/embed/${videoId}" allowfullscreen></iframe>
            <div class="video-title">${item.title}</div>
          `;
          videosDiv.appendChild(videoElement);
        });
      } catch (error) {
        document.getElementById('videos').textContent = 'حدث خطأ أثناء تحميل الفيديوهات.';
        console.error(error);
      }
    }

    fetchVideos();
  </script>

</body>
</html>